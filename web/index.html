<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concierge Connectors</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header class="page-header">
        <div class="header-branding">
            <img src="/static/Concierge_Connectors_Logo-resized.png" alt="Team logo" class="header-logo">

            <div class="header-text">
                <h1>Concierge Connectors</h1>
                <p class="tagline">SRM Discovery & Hostname Lookup</p>
            </div>
        </div>
        <div class="header-actions">
            <button id="update-srm-btn" class="update-srm-btn" title="Update SRM information">
                <span class="btn-icon">‚úèÔ∏è</span> Update SRM
            </button>
            <div class="theme-switcher">
                <fieldset>
                    <legend class="visually-hidden">Theme Selector</legend>
                    <input type="radio" id="theme-system" name="theme" value="system" checked>
                    <label for="theme-system">System</label>
                    
                    <input type="radio" id="theme-light" name="theme" value="light">
                    <label for="theme-light">Light</label>
                    
                    <input type="radio" id="theme-dark" name="theme" value="dark">
                    <label for="theme-dark">Dark</label>
                </fieldset>
            </div>
        </div>
    </header>

    <main id="main-content">
        <div id="results-container" role="status" aria-live="polite">
            </div>

        <div class="srm-finder-wrapper">
            <div class="srm-finder">
                <form id="srm-search-form" novalidate>
                    <label for="problem-description" id="problem-label">Describe your problem or lookup a hostname</label>
                    <textarea id="problem-description" name="problem" rows="3" placeholder="e.g., 'Restore backup from yesterday' or 'lookup: srv-vmcap-001-prod'" aria-describedby="helper-text"></textarea>
                    
                    <div class="input-meta-row">
                        <p id="helper-text">For SRM: describe your problem. For hostname: use 'lookup:' or 'hostname:' prefix.</p>
                        <div id="locale-container">
                            <label for="locale-switcher" id="locale-label">Language:</label>
                            <select id="locale-switcher">
                                <option value="en">English</option>
                                <option value="es">Espa√±ol</option>
                            </select>
                        </div>
                    </div>

                    <div class="suggestion-buttons" id="suggestion-buttons-container">
                        </div>
                    
                    <button type="submit" class="search-btn" id="search-btn">Search</button>
                </form>
            </div>
        </div>

        <div id="sr-announcer" class="visually-hidden" role="alert" aria-live="assertive"></div>
    </main>

    <!-- SRM Update Chat Modal -->
    <div id="srm-update-modal" class="srm-update-modal" role="dialog" aria-labelledby="chat-title" aria-hidden="true">
        <div class="srm-update-modal-content">
            <div class="chat-header">
                <h2 id="chat-title">Update SRM</h2>
                <button id="close-chat-btn" class="close-chat-btn" aria-label="Close chat">&times;</button>
            </div>
            <div id="chat-messages" class="chat-messages" role="log" aria-live="polite" aria-atomic="false">
                <div class="chat-message agent-message">
                    <div class="message-content">
                        <p><strong>Hi there! üëã</strong></p>
                        <p>I can help you update or modify SRM documents.</p>
                        <p><strong>Here's how it works:</strong></p>
                        <ol style="margin: 0.5rem 0 0.5rem 1.5rem; padding: 0;">
                            <li>Tell me which SRM you want to update</li>
                            <li>Describe what needs to change (owner notes or hidden notes)</li>
                            <li>Explain briefly why the change is needed</li>
                        </ol>
                        <p>Would you like to start by telling me which SRM you want to update?</p>
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <textarea id="chat-input" class="chat-input" placeholder="Type your message..." rows="2" aria-label="Chat message input"></textarea>
                <button id="send-chat-btn" class="send-chat-btn" aria-label="Send message">
                    <span class="send-icon">‚û§</span>
                </button>
            </div>
            <div id="chat-status" class="chat-status"></div>
        </div>
    </div>

    <script defer src="/static/script.js"></script>
</body>
</html>